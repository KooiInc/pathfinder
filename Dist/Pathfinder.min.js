var{addExtensionFn:h}=await import("//kooiinc.github.io/ProtoXT/protoxt.js"),F=t=>/^[/.]/.test(t)?t.slice(1):t,V=t=>F(t).split(/[/.]/),v=t=>Object.getPrototypeOf(t||0).constructor===Object,w=(t,e)=>t&&Array.isArray(e)&&!!e.find(n=>n.constructor&&n.constructor===Object),p="no value (undefined)",x="None. Object instance not suitable",d=h(function(){return this.valueOf()?"YES":"NO"}).To(Boolean),i=(t="n/a",e=(!1)[d],n=p)=>({searchPath:t,exists:e[d],value:n}),y=t=>!Array.isArray(t)&&Object.keys(t).length,P=(t,e)=>y(t)&&A(t,e)||{searchKey:e,pathFound:x,value:"n/a"},N=(t,e)=>y(t)&&f(t,e)||i(e,!1,"n/a"),T=h(P).To(Object),$=h(N).To(Object);function f(t,e,n=!1,u=!1){let s=V(e),c=a=>{let o=s.shift();if(w(n,a[o])){let r=a[o].find(l=>f(l,s.join("/"),1).exists);return r?u?i(e,!0,r):f(r,s.join("/"),1):i(e,!1)}return Object.hasOwn(a,o)&&s.length?c(a[o]):{...i(e,o in a,a[o]),setValue:r=>a[o]=r}};return w(n,t)&&(t={root:t}),c(t)}function A(t,e){let n={searchKey:e,pathFound:(!1)[d]};function u(s,c,a=""){for(let o of Object.keys(s))if(o!==c&&v(s[o])&&u(s[o],c,`${a}.${o}`),o===c){n.pathFound=`${a}.${c}`.replace(/^\./,""),n.value=s[o]===void 0&&p||s[o],n.cloneWithNewValue=r=>{let l=window.structuredClone?window.structuredClone(t):JSON.parse(JSON.stringify(t)),O=f(l,n.pathFound);return Object.hasOwn(O,"setValue")&&O.setValue(r),l};break}return Object.hasOwn(n,"value")||(n.value=`No path for key '${c}'`),n}return u(t,e)}export{$ as fromPath,T as pathTo};
//# sourceMappingURL=Pathfinder.min.js.map
